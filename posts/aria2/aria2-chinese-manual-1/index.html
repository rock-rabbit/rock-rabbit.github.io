<!doctype html>
<html lang="zh-cn">
  <head>
    <title>aria2 ä¸­æ–‡æ‰‹å†Œï¼ˆä¸€ï¼‰-è¯¦ç»†ä»‹ç»ã€ç¼–è¯‘ã€äº¤å‰ç¼–è¯‘ // rock rabbit</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.81.0" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="rock rabbit" />
    <meta name="description" content="aria2 ä¸­æ–‡æ‰‹å†Œï¼ˆä¸€ï¼‰ï¼Œè¿™é‡Œå°† aria2 å®˜ç½‘å’Œ aria2 å¼€æºä»“åº“ç®€ä»‹ç¿»è¯‘æ•´åˆæˆä¸€ç¯‡ä¸­æ–‡æ‰‹å†Œï¼Œæä¾›ç»™æƒ³è¦äº†è§£ aria2 çš„å°ä¼™ä¼´ã€‚" />
    <link rel="stylesheet" href="/css/main.min.3c3c186cd62e563ad6e2f00a89dbee656ab912d1d46f856b5605dd0232521e2a.css" />

    
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="aria2 ä¸­æ–‡æ‰‹å†Œï¼ˆä¸€ï¼‰-è¯¦ç»†ä»‹ç»ã€ç¼–è¯‘ã€äº¤å‰ç¼–è¯‘"/>
<meta name="twitter:description" content="aria2 ä¸­æ–‡æ‰‹å†Œï¼ˆä¸€ï¼‰ï¼Œè¿™é‡Œå°† aria2 å®˜ç½‘å’Œ aria2 å¼€æºä»“åº“ç®€ä»‹ç¿»è¯‘æ•´åˆæˆä¸€ç¯‡ä¸­æ–‡æ‰‹å†Œï¼Œæä¾›ç»™æƒ³è¦äº†è§£ aria2 çš„å°ä¼™ä¼´ã€‚"/>

    <meta property="og:title" content="aria2 ä¸­æ–‡æ‰‹å†Œï¼ˆä¸€ï¼‰-è¯¦ç»†ä»‹ç»ã€ç¼–è¯‘ã€äº¤å‰ç¼–è¯‘" />
<meta property="og:description" content="aria2 ä¸­æ–‡æ‰‹å†Œï¼ˆä¸€ï¼‰ï¼Œè¿™é‡Œå°† aria2 å®˜ç½‘å’Œ aria2 å¼€æºä»“åº“ç®€ä»‹ç¿»è¯‘æ•´åˆæˆä¸€ç¯‡ä¸­æ–‡æ‰‹å†Œï¼Œæä¾›ç»™æƒ³è¦äº†è§£ aria2 çš„å°ä¼™ä¼´ã€‚" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://rock-rabbit.github.io/posts/aria2/aria2-chinese-manual-1/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-07-04T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2022-07-04T00:00:00&#43;00:00" />



  </head>
  <body>
    <header class="app-header">
      <a href="http://rock-rabbit.github.io/"><img class="app-header-avatar" src="/avatar.jpg" alt="rock rabbit" /></a>
      <span class="app-header-title">rock rabbit</span>
      <nav class="app-header-menu">
          <a class="app-header-menu-item" href="/">Home</a>
             - 
          
          <a class="app-header-menu-item" href="/tags/">Tags</a>
             - 
          
          <a class="app-header-menu-item" href="/about/">About</a>
      </nav>
      <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
      <div class="app-header-social">
        
          <a href="https://github.com/rock-rabbit" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>rock-rabbit</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">aria2 ä¸­æ–‡æ‰‹å†Œï¼ˆä¸€ï¼‰-è¯¦ç»†ä»‹ç»ã€ç¼–è¯‘ã€äº¤å‰ç¼–è¯‘</h1>
      <div class="post-meta">
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jul 4, 2022
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          6 min read
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tag">
  <title>tag</title>
  <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7.01" y2="7"></line>
</svg>
              <a class="tag" href="http://rock-rabbit.github.io/tags/aria2/">aria2</a>
              <a class="tag" href="http://rock-rabbit.github.io/tags/%E5%BF%AB%E6%8D%B7%E6%89%8B%E5%86%8C/">å¿«æ·æ‰‹å†Œ</a>
              <a class="tag" href="http://rock-rabbit.github.io/tags/aria2%E4%B8%AD%E6%96%87%E6%89%8B%E5%86%8C/">aria2ä¸­æ–‡æ‰‹å†Œ</a>
        </div>
      </div>
    </header>
    <div class="post-content">
      <p>æ–‡ç« ä¿¡æ¯å‡æ¥è‡ª aria2 å®˜ç½‘ï¼š<a href="https://aria2.github.io/">aria2</a> å’Œ å¼€æºä»“åº“ï¼šhttps://github.com/aria2/aria2</p>
<h3 id="-aria2-æ˜¯ä»€ä¹ˆ">ğŸ‘¾ aria2 æ˜¯ä»€ä¹ˆï¼Ÿ</h3>
<ul>
<li>aria2 æ˜¯ä¸€ä¸ª<strong>è½»é‡çº§</strong>ã€å¤šåè®®ã€å¤šæ•°æ®æºçš„<strong>ä¸‹è½½å·¥å…·</strong>ï¼›</li>
<li>aria2 æ”¯æŒçš„åè®® <strong>HTTP/HTTPS</strong>ã€<strong>FTP</strong>ã€<strong>SFTP</strong>ã€<strong>BitTorrent</strong> å’Œ <strong>Metalink</strong>ï¼›</li>
<li>aria2 å¯ä»¥ä»å¤šä¸ªæ¥æº/åè®®ä¸‹è½½æ–‡ä»¶ï¼Œå¹¶å°è¯•åˆ©ç”¨æ‚¨çš„æœ€å¤§ä¸‹è½½å¸¦å®½ï¼Œå®ƒæ”¯æŒåŒæ—¶ä» HTTPï¼ˆSï¼‰/FTP/SFTP å’Œ BitTorrent ä¸‹è½½æ–‡ä»¶ï¼Œè€Œä» HTTPï¼ˆSï¼‰/FTP/SFTP ä¸‹è½½çš„æ•°æ®ä¸Šä¼ åˆ° BitTorrent ç¾¤ï¼Œå¯ä»¥ä½¿ç”¨ Metalink è‡ªåŠ¨éªŒè¯æ¥è‡ªåƒ BitTorrent æ–‡ä»¶è¿™æ ·çš„æ•°æ®å—ï¼›</li>
<li>aria2 çš„ä½¿ç”¨è€…å¯ä»¥é€šè¿‡å†…ç½®çš„ <strong>JSON-RPC</strong> å’Œ <strong>XML-RPC</strong> æœåŠ¡è¿›è¡Œæ“ä½œï¼Œåœ¨æ“ä½œæ—¶å¯ä»¥ä½¿ç”¨å¯†é’¥ä¿è¯æ“ä½œè€…æ˜¯æœ‰æƒé™çš„ï¼›</li>
</ul>
<h3 id="-ä¸‹è½½-aria2-çš„æ–¹æ³•">â¬‡ï¸ ä¸‹è½½ aria2 çš„æ–¹æ³•</h3>
<p>åœ¨ aria2 ä»“åº“ä¸­å‘è¡Œçš„ç‰ˆæœ¬ï¼š<a href="https://github.com/aria2/aria2/releases">aria2 æœ€æ–°å‘è¡Œç‰ˆ</a></p>
<p>ä½ å¯ä»¥ç›´æ¥ä¸‹è½½é€‚ç”¨äº Windows å’Œ Android çš„æºä»£ç åˆ†å‘å’ŒäºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<h3 id="-aria2-ç‰¹ç‚¹">âœ¨ aria2 ç‰¹ç‚¹</h3>
<ul>
<li>å‘½ä»¤è¡Œç•Œé¢</li>
<li>æ”¯æŒ HTTPï¼ˆSï¼‰ã€FTPã€SFTP å’Œ BitTorrent ä¸‹è½½æ–‡ä»¶</li>
<li>åˆ†æ®µä¸‹è½½</li>
<li>æ”¯æŒ Metalink version 4 ï¼ˆRFC 5854ï¼‰ï¼ˆHTTP/FTP/SFTP/BitTorrentï¼‰</li>
<li>æ”¯æŒ Metalink version 3.0 ï¼ˆHTTP/FTP/SFTP/BitTorrentï¼‰</li>
<li>æ”¯æŒ Metalink/HTTP (RFC 6249)</li>
<li>å®ç° HTTP/1.1</li>
<li>æ”¯æŒ HTTP ä»£ç†</li>
<li>æ”¯æŒ HTTP Basic Authenticationï¼ˆHTTPåŸºæœ¬è®¤è¯ï¼‰</li>
<li>æ”¯æŒ HTTP Proxy authenticationï¼ˆHTTPä»£ç†è®¤è¯ï¼‰</li>
<li>æ”¯æŒç›®å‰å·²çŸ¥çš„ä»£ç†ç¯å¢ƒå˜é‡ï¼Œ<code>http_proxy</code> <code>https_proxy</code> <code>ftp_proxy</code> <code>all_proxyno_proxy</code></li>
<li>æ”¯æŒ HTTP gzipã€deflate å†…å®¹ç¼–ç </li>
<li>æ”¯æŒéªŒè¯ HTTS ç»™å®šçš„ CA è¯ä¹¦</li>
<li>æ”¯æŒåˆ†å—ä¼ è¾“ç¼–ç </li>
<li>æ”¯æŒä» Firefox3ã€Chromiumã€Google Chrome å’Œ Mozilla / Firefoxï¼ˆ1.x / 2.xï¼‰/ Netscapeæ ¼å¼ä¸­è·å– Cookie</li>
<li>æ”¯æŒä»¥ Mozilla/Firefox ï¼ˆ1.x/2.xï¼‰/Netscape æ ¼å¼ä¿å­˜ Cookie</li>
<li>æ”¯æŒè‡ªå®šä¹‰ HTTP æ ‡å¤´</li>
<li>æ”¯æŒæŒä¹…é“¾æ¥</li>
<li>æ”¯æŒé€šè¿‡ HTTP ä»£ç†çš„ FTP/SFTP</li>
<li>é™åˆ¶ä¸Šä¼ /ä¸‹è½½é€Ÿåº¦</li>
<li>BitTorrent æ‰©å±•ï¼šFast extension, DHT, PEX, MSE/PSE, Multi-Tracker, UDP tracker</li>
<li>BitTorrentÂ <a href="http://getright.com/seedtorrent.html">WEB-Seeding</a>ã€‚aria2 è¯·æ±‚å¤§äº piece size çš„ chunks ä»¥å‡å°‘è¯·æ±‚å¼€é”€ã€‚å®ƒè¿˜æ”¯æŒ piece size çš„æµæ°´çº¿è¯·æ±‚ã€‚</li>
<li>BitTorrentÂ Local Peer Discovery</li>
<li>é‡å‘½å/æ›´æ”¹ä¸‹è½½å®Œæˆçš„ BitTorrent ç›®å½•ç»“æ„</li>
<li>æ”¯æŒ JSON-RPC ï¼ˆé€šè¿‡ HTTP å’Œ WebSocketï¼‰/XML-RPC æœåŠ¡æ¥å£</li>
<li>æ”¯æŒä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œ</li>
<li>æ”¯æŒåœ¨ multi-file torrent/Metalink ä¸­é€‰æ‹©ä¸‹è½½</li>
<li>æ”¯æŒ Metalink ä¸­çš„å—æ ¡éªŒå’ŒéªŒè¯</li>
<li>æ”¯æŒåœ¨ Metalink ä¸­ç¦ç”¨åˆ†æ®µä¸‹è½½</li>
<li>æ”¯æŒ Netrc</li>
<li>æ”¯æŒé…ç½®æ–‡ä»¶</li>
<li>æ”¯æŒä¸‹è½½åœ¨æ–‡æœ¬æ–‡ä»¶å’Œ stdin ä¸­è·å–çš„ URIsï¼Œå¯ä»¥é€‰æ‹©æŒ‡å®šè¾“å‡ºç›®å½•å’Œæ–‡ä»¶åç§°</li>
<li>æ”¯æŒ Parameterized URI</li>
<li>æ”¯æŒ IPV6</li>
<li>æ”¯æŒ ç£ç›˜ç¼“å­˜ä»¥å‡å°‘ç£ç›˜ä½¿ç”¨</li>
</ul>
<h3 id="-ç‰ˆæœ¬æ§åˆ¶å’Œå‘å¸ƒè®¡åˆ’">ğŸ‚ ç‰ˆæœ¬æ§åˆ¶å’Œå‘å¸ƒè®¡åˆ’</h3>
<p>æˆ‘ä»¬å¯¹ aria2 ç‰ˆæœ¬ä½¿ç”¨ 3 æ®µæ•°å­—ï¼šä¸»è¦.æ¬¡è¦.è¡¥ä¸ã€‚æˆ‘ä»¬å°†åœ¨æ¯æœˆ 15 å·å‘å¸ƒæ¬¡è¦æ›´æ–°ï¼Œå¦‚æœè‡ªä¸Šæ¬¡å‘å¸ƒä»¥æ¥æ²¡æœ‰ä»»ä½•æ›´æ”¹ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šè·³è¿‡ä¸€ä¸ªç‰ˆæœ¬ã€‚</p>
<p>å¦‚æœæˆ‘ä»¬é‡åˆ°å®‰å…¨é—®é¢˜ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šåœ¨å¸¸è§„ç‰ˆæœ¬ä¹‹é—´å‘å¸ƒ è¡¥ä¸ ç‰ˆæœ¬ã€‚</p>
<p>ä¸»è¦ç‰ˆæœ¬å·æˆ‘ä»¬æš‚æ—¶åœç•™åœ¨ 1 ä¸Šã€‚</p>
<h3 id="-è®¸å¯è¯">ğŸ¦‹ <strong><strong>è®¸å¯è¯</strong></strong></h3>
<p>è¿™ä¸ªç¨‹åºæ˜¯è‡ªç”±è½¯ä»¶;æ‚¨å¯ä»¥æ ¹æ®è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šå‘å¸ƒçš„ GNU é€šç”¨å…¬å…±è®¸å¯è¯çš„æ¡æ¬¾é‡æ–°åˆ†å‘å’Œ/æˆ–ä¿®æ”¹å®ƒ;è®¸å¯è¯çš„ç‰ˆæœ¬ 2ï¼Œæˆ–ï¼ˆç”±æ‚¨é€‰æ‹©ï¼‰ä»»ä½•æ›´é«˜ç‰ˆæœ¬ã€‚</p>
<h3 id="-ä½¿ç”¨ç¤ºä¾‹">ğŸ ä½¿ç”¨ç¤ºä¾‹</h3>
<p>å‘½ä»¤è¡Œå“åˆ°ä½ äº†ï¼Ÿä¸è¦æ…Œï¼Œaria2 çœŸçš„å¾ˆå®¹æ˜“ä½¿ç”¨ã€‚</p>
<p>ä» WEB ä¸‹è½½æ–‡ä»¶ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aria2c http://example.org/mylinux.iso
</code></pre></div><p>ä¸€æ¬¡æ€§ä½¿ç”¨ä¸åŒçš„åè®®ä¸‹è½½å¤šä¸ªæ–‡ä»¶ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aria2c http://a/f.iso ftp://b/f.iso
</code></pre></div><p>æ¯ä¸ª Host ä½¿ç”¨ä¸¤ä¸ªé“¾æ¥ä¸‹è½½ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aria2c -x2 http://a/f.iso
</code></pre></div><p>BitTorrentï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aria2c http://example.org/mylinux.torrent
</code></pre></div><p>BitTorrent ç£åŠ›é“¾æ¥ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aria2c <span style="color:#e6db74">&#39;magnet:?xt=urn:btih:248D0A1CD08284299DE78D5C1ED359BB46717D8C&#39;</span>
</code></pre></div><p>Metalinkï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aria2c http://example.org/mylinux.metalink
</code></pre></div><p>ä¸‹è½½æ–‡æœ¬æ–‡ä»¶ä¸­çš„ URIsï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">aria2c -i uris.txt
</code></pre></div><h3 id="æ€ä¹ˆè·å–æºä»£ç ">æ€ä¹ˆè·å–æºä»£ç ï¼Ÿ</h3>
<p>æˆ‘ä»¬åœ¨Githubä¸Šç»´æŠ¤æºä»£ç ï¼š<a href="https://github.com/aria2/aria2">https://github.com/aria2/aria2</a></p>
<p>è‹¥è¦è·å–æœ€æ–°çš„æºä»£ç ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">git clone https://github.com/aria2/aria2.git
</code></pre></div><p>è¿™å°†åœ¨å½“å‰ç›®å½•ä¸­åˆ›å»º aria2 ç›®å½•ï¼Œæºæ–‡ä»¶å°†å­˜å‚¨åœ¨é‚£é‡Œã€‚</p>
<h3 id="ä¾èµ–">ä¾èµ–</h3>
<table>
<thead>
<tr>
<th>ç‰¹ç‚¹</th>
<th>ä¾èµ–</th>
</tr>
</thead>
<tbody>
<tr>
<td>HTTPS</td>
<td>OSX or GnuTLS or OpenSSL or Windows</td>
</tr>
<tr>
<td>SFTP</td>
<td>libssh2</td>
</tr>
<tr>
<td>BitTorrent</td>
<td>None. Optional: libnettle+libgmp or libgcrypt or OpenSSL (see note)</td>
</tr>
<tr>
<td>Metalink</td>
<td>libxml2 or Expat.</td>
</tr>
<tr>
<td>Checksum</td>
<td>None. Optional: OSX or libnettle or libgcrypt or OpenSSL or Windows (see note)</td>
</tr>
<tr>
<td>gzip, deflate in HTTP</td>
<td>zlib</td>
</tr>
<tr>
<td>Async DNS</td>
<td>C-Ares</td>
</tr>
<tr>
<td>Firefox3/Chromium cookie</td>
<td>libsqlite3</td>
</tr>
<tr>
<td>XML-RPC</td>
<td>libxml2 or Expat.</td>
</tr>
<tr>
<td>JSON-RPC over WebSocket</td>
<td>libnettle or libgcrypt or OpenSSL</td>
</tr>
</tbody>
</table>
<p><strong>æ³¨æ„</strong></p>
<p>å¦‚æœå®‰è£…äº†ä¸¤ä¸ªåº“ï¼Œåˆ™ libxml2 ä¼˜å…ˆäº Expatã€‚å¦‚æœæ‚¨æ›´å–œæ¬¢ Expatï¼Œè¯·è¿è¡Œ <code>--without-libxml2</code></p>
<p><strong>æ³¨æ„</strong></p>
<p>åœ¨ Apple OSX ä¸Šæ”¯æŒç³»ç»Ÿçº§çš„ SSL/TLSã€‚å› æ­¤ï¼Œåœ¨è¯¥å¹³å°ä¸Šæ—¢ä¸éœ€è¦ GNUTL ä¹Ÿä¸éœ€è¦ OpenSSL ã€‚å¦‚æœè¦ç¦ç”¨æ­¤è¡Œä¸ºï¼Œè¯·è¿è¡Œ <code>--without-appletls</code></p>
<p>å¦‚æœå®‰è£…äº†ä¸¤ä¸ªåº“ï¼Œåˆ™ GnuTLS ä¼˜å…ˆäº OpenSSLã€‚å¦‚æœæ‚¨å–œæ¬¢ OpenSSLï¼Œè¯·è¿è¡Œ <code>--without-gnutls</code> <code>--with-openssl</code></p>
<p>åœ¨ Windows ä¸Šï¼Œå¯ä»¥ä½¿ç”¨åŸºäºæœ¬æœº Windows SSL åŠŸèƒ½ï¼ˆSchannelï¼‰çš„ SSL å®ç°ï¼Œè¿™å°†æ˜¯é¦–é€‰ã€‚å› æ­¤ï¼Œåœ¨è¯¥å¹³å°ä¸Šæ—¢ä¸éœ€è¦ GNUTL ä¹Ÿä¸éœ€è¦ OpenSSL ã€‚å¦‚æœè¦ç¦ç”¨æ­¤è¡Œä¸ºï¼Œè¯·è¿è¡Œ <code>--without-wintls</code></p>
<p><strong>æ³¨æ„</strong></p>
<p>åœ¨ Apple OSX ä¸Šï¼Œç³»ç»Ÿçº§æ ¡éªŒå’Œæ”¯æŒå°†æ˜¯é¦–é€‰ï¼Œé™¤é aria2 é…ç½®ä¸º <code>--without-appletls</code></p>
<p>å¦‚æœå®‰è£…äº†ä¸¤ä¸ªåº“ï¼Œåˆ™ libnettle ä¼˜å…ˆäº libgcryptã€‚å¦‚æœæ‚¨æ›´å–œæ¬¢ libgcryptï¼Œè¯·è¿è¡Œ<code>--without-libnettle --with-libgcrypt</code>ã€‚å¦‚æœåœ¨ GNUTL ä¸Šé€‰æ‹© OpenSSLï¼Œåˆ™ä¸ä¼šä½¿ç”¨ libnettle æˆ– libgcryptã€‚</p>
<p>å¦‚æœæ²¡æœ‰å®‰è£…ä»»ä½•å¯é€‰ä¾èµ–é¡¹ï¼Œåˆ™å°†ä½¿ç”¨ä»…æ”¯æŒ md5 å’Œ sha1 çš„å†…éƒ¨å®ç°ã€‚</p>
<p>åœ¨ Windows ä¸Šï¼Œå¯ä»¥ä½¿ç”¨åŸºäºæœ¬æœº Windows åŠŸèƒ½çš„ SSL å®ç°ï¼Œé™¤é aria2 é…ç½®ä¸º <code>--without-wintls</code></p>
<p>ç”¨æˆ·å¯ä»¥å…·æœ‰ä»¥ä¸‹ SSL å’Œ crypto libraries é…ç½®ä¹‹ä¸€ï¼š</p>
<ul>
<li>OpenSSL</li>
<li>GnuTLS + libgcrypt</li>
<li>GnuTLS + libnettle</li>
<li>Apple TLS (OSX only)</li>
<li>Windows TLS (Windows only)</li>
</ul>
<p>åœ¨è¿è¡Œæ—¶å¯ä»¥æä¾›<code>--disable-bittorrent</code>å’ŒÂ <code>--disable-metalink</code> æ¥ç¦ç”¨ BitTorrent å’Œ Metalink çš„æ”¯æŒã€‚</p>
<p>ä¸ºäº†å¯ç”¨å¼‚æ­¥ DNS æ”¯æŒï¼Œä½ éœ€è¦ c-aresã€‚</p>
<ul>
<li>c-ares:Â <a href="http://c-ares.haxx.se/">http://c-ares.haxx.se/</a></li>
</ul>
<h3 id="å¦‚ä½•æ„å»ºbuild">å¦‚ä½•æ„å»ºï¼ˆbuildï¼‰</h3>
<p>aria2 ä¸»è¦ç”¨ C++ ç¼–å†™ï¼Œæœ€åˆå®ƒæ˜¯åŸºäº C++98/C++03 æ ‡å‡†ç‰¹æ€§ç¼–å†™çš„ã€‚æˆ‘ä»¬ç°åœ¨æ­£åœ¨å°† aria2 è¿ç§»åˆ° C++11 æ ‡å‡†ã€‚å½“å‰çš„æºä»£ç éœ€è¦æ”¯æŒ C++11 çš„ç¼–è¯‘å™¨ã€‚å¯¹äºä¼—æ‰€å‘¨çŸ¥çš„ç¼–è¯‘å™¨ï¼Œä¾‹å¦‚ g++ å’Œclangï¼Œå¿…é¡»æ”¯æŒ or flagã€‚-std=c++11-std=c++0x</p>
<p>ä¸ºäº†ä»æºè½¯ä»¶åŒ…æ„å»º aria2ï¼Œæ‚¨éœ€è¦ä»¥ä¸‹å¼€å‘è½¯ä»¶åŒ…ï¼ˆè½¯ä»¶åŒ…åç§°å¯èƒ½å› æ‚¨ä½¿ç”¨çš„å‘è¡Œç‰ˆè€Œå¼‚ï¼‰ï¼š</p>
<ul>
<li>libgnutls-dev (Required for HTTPS, BitTorrent, Checksum support)</li>
<li>nettle-dev (Required for BitTorrent, Checksum support)</li>
<li>libgmp-dev (Required for BitTorrent)</li>
<li>libssh2-1-dev (Required for SFTP support)</li>
<li>libc-ares-dev (Required for async DNS support)</li>
<li>libxml2-dev (Required for Metalink support)</li>
<li>zlib1g-dev (Required for gzip, deflate decoding support in HTTP)</li>
<li>libsqlite3-dev (Required for Firefox3/Chromium cookie support)</li>
<li>pkg-config (Required to detect installed libraries)</li>
</ul>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ libgcrypt-dev è€Œä¸æ˜¯ nettle-dev å’Œ libgmp-devï¼š</p>
<ul>
<li>libgpg-error-dev (Required for BitTorrent, Checksum support)</li>
<li>libgcrypt-dev (Required for BitTorrent, Checksum support)</li>
</ul>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ libssl-dev è€Œä¸æ˜¯ libgnutls-devã€nettle-devã€libgmp-devã€libgpg-error-dev å’Œ libgcrypt-devï¼š</p>
<p>â€¢ libssl-dev (Required for HTTPS, BitTorrent, Checksum support)</p>
<p>æ‚¨å¯ä»¥ä½¿ç”¨ libexpat1-dev è€Œä¸æ˜¯ libxml2-devï¼š</p>
<p>â€¢ libexpat1-dev (Required for Metalink support)</p>
<p>åœ¨ Fedora ä¸Šï¼Œæ‚¨éœ€è¦ä»¥ä¸‹è½¯ä»¶åŒ…ï¼šgcc, gcc-c++, kernel-devel, libgcrypt-devel, libxml2-devel, openssl-devel, gettext-devel, cppunit</p>
<p>å¦‚æœæ‚¨ä» git å­˜å‚¨åº“ä¸‹è½½äº†æºä»£ç ï¼Œåˆ™å¿…é¡»å®‰è£…ä»¥ä¸‹è½¯ä»¶åŒ…æ‰èƒ½è·å¾— autoconf macrosã€‚</p>
<ul>
<li>libxml2-dev</li>
<li>libcppunit-dev</li>
<li>autoconf</li>
<li>automake</li>
<li>autotools-dev</li>
<li>autopoint</li>
<li>libtool</li>
</ul>
<p>å¹¶è¿è¡Œä»¥ä¸‹å‘½ä»¤ä»¥ç”Ÿæˆé…ç½®è„šæœ¬å’Œç”Ÿæˆç¨‹åºæ‰€éœ€çš„å…¶ä»–æ–‡ä»¶ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">autoreconf -i
</code></pre></div><p>æ­¤å¤–ï¼Œæ‚¨è¿˜éœ€è¦ <a href="http://sphinx-doc.org/">Sphinx</a> æ¥æ„å»ºæ‰‹å†Œé¡µã€‚</p>
<p>å¦‚æœæ‚¨æ­£åœ¨ä¸º Mac OS X æ„å»º aria2ï¼Œè¯·æŸ¥çœ‹ makerelease-osx.mk GNU Make makefileã€‚</p>
<p>æ„å»º aria2 çš„æœ€å¿«æ–¹æ³•æ˜¯é¦–å…ˆè¿è¡Œé…ç½®è„šæœ¬ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./configure
</code></pre></div><p>è¦æ„å»ºé™æ€é“¾æ¥çš„ aria2ï¼Œè¯·ä½¿ç”¨å‘½ä»¤è¡Œé€‰é¡¹ï¼š<code>ARIA2_STATIC=yes</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./configure ARIA2_STATIC<span style="color:#f92672">=</span>yes
</code></pre></div><p>é…ç½®å®Œæˆåï¼Œè¿è¡Œç¼–è¯‘ç¨‹åºï¼š<code>make</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">make
</code></pre></div><p>è¯·çœ‹<a href="https://github.com/aria2/aria2#cross-compiling-windows-binary">äº¤å‰ç¼–è¯‘ Windows äºŒè¿›åˆ¶æ–‡ä»¶</a>æ¥è¿›è¡Œ Windows çš„äº¤å‰ç¼–è¯‘;</p>
<p>è¯·çœ‹<a href="https://github.com/aria2/aria2#cross-compiling-android-binary">äº¤å‰ç¼–è¯‘ Android äºŒè¿›åˆ¶æ–‡ä»¶</a>æ¥è¿›è¡Œ Android çš„äº¤å‰ç¼–è¯‘;</p>
<p><code>configure</code> ä¼šæ£€æŸ¥å¯ç”¨åº“å¹¶å¯ç”¨å°½å¯èƒ½å¤šçš„åŠŸèƒ½ï¼Œåœ¨ default ä¸‹æœªå¯ç”¨çš„å®éªŒåŠŸèƒ½é™¤å¤–ã€‚</p>
<p>ä» 1.1.0 å¼€å§‹ï¼Œaria2 é»˜è®¤æ£€æŸ¥ HTTPS æœåŠ¡å™¨çš„è¯ä¹¦ã€‚å¦‚æœæ‚¨ä½¿ç”¨ OpenSSL æˆ–å…·æœ‰ <code>gnutls_certificate_set_x509_system_trust()</code> åŠŸèƒ½çš„æœ€æ–°ç‰ˆæœ¬çš„ GnuTLS è¿›è¡Œæ„å»ºï¼Œå¹¶ä¸”åº“å·²æ­£ç¡®é…ç½®ä»¥å®šä½ç³»ç»ŸèŒƒå›´çš„ CA è¯ä¹¦å­˜å‚¨ï¼Œaria2 å°†åœ¨å¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½è¿™äº›è¯ä¹¦ã€‚å¦‚æœä¸æ˜¯è¿™æ ·ï¼Œæˆ‘å»ºè®®æä¾› CA åŒ…æ–‡ä»¶çš„è·¯å¾„ï¼Œä¾‹å¦‚åœ¨Debianä¸­ï¼ŒCA æ†ç»‘æ–‡ä»¶çš„è·¯å¾„æ˜¯ &lsquo;/etc/ssl/certs/ca-certificates.crt&rsquo; (in ca-certificates package)ï¼Œè¿™å¯èƒ½å› æ‚¨çš„å‘è¡Œç‰ˆæœ¬è€Œå¼‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ configure çš„ <code>--with-ca-bundle option</code> :</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">./configure --with-ca-bundle<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;/etc/ssl/certs/ca-certificates.crt&#39;</span>
make
</code></pre></div><p>å¦‚æœæ²¡æœ‰ <code>--with-ca-bundle</code> é€‰é¡¹ï¼Œåˆ™åœ¨è®¿é—® HTTPS æœåŠ¡å™¨æ—¶ä¼šé‡åˆ°é”™è¯¯ï¼Œå› ä¸ºæ²¡æœ‰ CA bundle æ— æ³•éªŒè¯è¯ä¹¦ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨ aria2 çš„ <code>--ca-certificate</code> æŒ‡å®š CA æ†ç»‘æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰å®‰è£… CA bundle æ–‡ä»¶ï¼Œé‚£ä¹ˆæœ€åä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ <code>--check-certificate=false</code> ç¦ç”¨è¯ä¹¦éªŒè¯ã€‚</p>
<p>ä½¿ç”¨æœ¬æœº OSXï¼ˆAppleTLSï¼‰å’Œ / æˆ– Windowsï¼ˆWinTLSï¼‰å®ç°å°†è‡ªåŠ¨ä½¿ç”¨ç³»ç»Ÿè¯ä¹¦å­˜å‚¨ï¼Œå› æ­¤ï¼Œä¸éœ€è¦ä½¿ç”¨ -with-ca-bundleï¼Œåœ¨ä½¿ç”¨è¿™äº›å®ç°æ—¶å°†è¢«å¿½ç•¥ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ aria2c å®‰è£…åœ¨åä¸º bash_completion çš„ç›®å½•ä¸­ï¼Œå…¶ä½ç½®åœ¨ $prefix/share/doc/aria2/bash_completionã€‚è¦æ›´æ”¹æ–‡ä»¶çš„å®‰è£…ç›®å½•ï¼Œè¯·ä½¿ç”¨ <code>--with-bashcompletiondir</code> é€‰é¡¹ã€‚</p>
<p><code>make</code> åï¼Œå¯æ‰§è¡Œæ–‡ä»¶ä½äºsrc/aria2cã€‚</p>
<p>aria2 ä½¿ç”¨ CppUnit è¿›è¡Œè‡ªåŠ¨å•å…ƒæµ‹è¯•ã€‚è¦è¿è¡Œå•å…ƒæµ‹è¯•ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">make check
</code></pre></div><h3 id="äº¤å‰ç¼–è¯‘-windows-äºŒè¿›åˆ¶æ–‡ä»¶">äº¤å‰ç¼–è¯‘ Windows äºŒè¿›åˆ¶æ–‡ä»¶</h3>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•åœ¨ Debian Linux ä¸Šä½¿ç”¨ mingw-w64 ï¼ˆ<a href="http://mingw-w64.org/doku.php">http://mingw-w64.org/doku.php</a>
ï¼‰ äº¤å‰ç¼–è¯‘å™¨æ„å»º Windows äºŒè¿›åˆ¶æ–‡ä»¶ï¼ŒMinGWï¼ˆ<a href="http://www.mingw.org/">http://www.mingw.org/</a>
ï¼‰å¯èƒ½æ— æ³• aria2ã€‚</p>
<p>æ„å»º Windows äºŒè¿›åˆ¶æ–‡ä»¶çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ Dockerfileï¼Œè¯·å‚è€ƒ Dockerfile.mingw æ¥æ„å»ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå¦‚æœæ‚¨ä¸èƒ½ä½¿ç”¨ Dockerfile è¯·ç»§ç»­é˜…è¯»ä»¥ä¸‹å†…å®¹ã€‚</p>
<p>åŸºæœ¬ä¸Šï¼Œåœ¨ç¼–è¯‘å’Œå®‰è£…ä¾èµ–åº“ä¹‹åï¼Œæ‚¨å¯ä»¥è¿›è¡Œäº¤å‰ç¼–è¯‘ï¼Œåªéœ€ä¼ é€’é€‚å½“çš„ <code>--host</code> é€‰é¡¹å¹¶æŒ‡å®šè¦é…ç½®çš„ <code>CPPFLAGS</code>Â <code>LDFLAGS</code> <code>PKG_CONFIG_LIBDIR</code> å˜é‡ã€‚ä¸ºäº†æ–¹ä¾¿å’Œé™ä½æˆ‘ä»¬è‡ªå·±çš„å¼€å‘æˆæœ¬ï¼Œæˆ‘ä»¬æä¾›äº†æ›´ç®€å•çš„æ–¹æ³•æ¥é…ç½®æ„å»ºè®¾ç½®ã€‚</p>
<p><code>mingw-config</code> è„šæœ¬æ˜¯ç”¨äº mingw-w64 çš„ configure è„šæœ¬åŒ…è£…å™¨ã€‚æˆ‘ä»¬ä½¿ç”¨å®ƒæ¥åˆ›å»ºæ­£å¼çš„ Windows ç‰ˆæœ¬ã€‚æ­¤è„šæœ¬å‡è®¾å·²ä¸ºäº¤å‰ç¼–è¯‘æ„å»ºä»¥ä¸‹åº“ï¼š</p>
<ul>
<li>c-ares</li>
<li>expat</li>
<li>sqlite3</li>
<li>zlib</li>
<li>libssh2</li>
<li>cppunit</li>
</ul>
<p>å¯ä»¥è°ƒæ•´æŸäº›ç¯å¢ƒå˜é‡ä»¥æ›´æ”¹ç”Ÿæˆè®¾ç½®ï¼š</p>
<p><em><strong>HOST</strong></em></p>
<p>é€šè¿‡ HOST ç¯å¢ƒå˜é‡å¯ä»¥ç¼–è¯‘ä¸º HOST æŒ‡å®šçš„ç³»ç»Ÿï¼Œå®ƒé»˜è®¤ä¸º <code>i686-w64-mingw32</code> ï¼Œè¦ç”Ÿæˆ64ä½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¯·æŒ‡å®šä¸º <code>x86_64-w64-mingw32</code> ã€‚</p>
<p><em><strong>PREFIX</strong></em></p>
<p>PREFIX æ˜¯å®‰è£…ä¾èµ–åº“çš„ç›®å½•çš„å‰ç¼€ï¼Œé»˜è®¤ä¸º <code>/usr/local/$HOST</code> ï¼Œ<code>I$PREFIX/include</code> å°†æ·»åŠ åˆ° <code>CPPFLAGS</code> ï¼Œ<code>L$PREFIX/lib</code> å°†æ·»åŠ åˆ° <code>LDFLAGS</code> ï¼Œ<code>$PREFIX/lib/pkgconfig</code> å°†æ·»åŠ åˆ° <code>PKG_CONFIG_LIBDIR</code> ã€‚</p>
<p>ä¾‹å¦‚ï¼Œè¦æ„å»º64ä½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè¯·æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">HOST<span style="color:#f92672">=</span>x86_64-w64-mingw32 ./mingw-config
</code></pre></div><p>å¦‚æœæ‚¨æƒ³ä½¿ç”¨ libaria2 dll  å¯ä»¥æŒ‡å®š <code>--enable-libaria2</code> ï¼Œç„¶åä¸è¦ä½¿ç”¨ <code>ARIA2_STATIC=yes</code> å¹¶å‡†å¤‡å¤–éƒ¨åº“çš„ DLL ç‰ˆæœ¬ã€‚</p>
<h3 id="äº¤å‰ç¼–è¯‘-android-äºŒè¿›åˆ¶æ–‡ä»¶"><strong><strong>äº¤å‰ç¼–è¯‘ Android äºŒè¿›åˆ¶æ–‡ä»¶</strong></strong></h3>
<p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•åœ¨ Debian Linux ä¸Šä½¿ç”¨ Android NDK äº¤å‰ç¼–è¯‘å™¨æ„å»º Android äºŒè¿›åˆ¶æ–‡ä»¶ã€‚</p>
<p>åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼ŒAndroid NDK r21e åº”è¯¥å¯ä»¥æ— è¯¯çš„ç¼–è¯‘ aria2ã€‚</p>
<p><code>android-config</code> è„šæœ¬æ˜¯ Android build çš„é…ç½®è„šæœ¬åŒ…è£…å™¨ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥åˆ›å»ºæ­£å¼çš„ Android ç‰ˆæœ¬ï¼Œæ­¤è„šæœ¬å‡è®¾å·²ä¸ºäº¤å‰ç¼–è¯‘æ„å»ºä»¥ä¸‹åº“ï¼š</p>
<ul>
<li>c-ares</li>
<li>openssl</li>
<li>expat</li>
<li>zlib</li>
<li>libssh2</li>
</ul>
<p>åœ¨æ„å»ºä¸Šè¿°åº“æ—¶ï¼Œè¯·ç¡®ä¿ç¦ç”¨å…±äº«åº“å¹¶ä»…å¯ç”¨é™æ€åº“ï¼Œæˆ‘ä»¬å°†é™æ€é“¾æ¥è¿™äº›åº“ã€‚</p>
<p><code>android-config</code> å‡è®¾å®šä¹‰äº† $ANDROID_HOME å’Œ $NDK ç¯å¢ƒå˜é‡ã€‚</p>
<p>æˆ‘ä»¬ç›®å‰ä½¿ç”¨ Android NDK r21eï¼Œ$NDK åº”æŒ‡å‘ Anroid NDK çš„ç›®å½•ï¼Œæ„å»ºå·¥å…·ä½äº <code>$NDK/toolchains/llvm/prebuilt/linux-x86_64/bin/</code> ã€‚</p>
<p>æ‰€æœ‰ä¾èµ–åº“å¿…é¡»å®‰è£…åœ¨ <code>$ANDROID_HOME/usr/local</code> ã€‚</p>
<p>åœ¨ <code>android-config</code> ä¹‹åï¼Œè¿è¡Œ make ç¼–è¯‘æºä»£ç ã€‚</p>
<h3 id="æ„å»ºæ–‡æ¡£">æ„å»ºæ–‡æ¡£</h3>
<p><a href="http://sphinx-doc.org/">Sphinx</a> ç”¨äºæ„å»ºæ–‡æ¡£ã€‚å¦‚æœ aria2 æ‰‹å†Œé¡µä¸æ˜¯æœ€æ–°çš„ï¼Œåˆ™ä¼šåœ¨è¿è¡Œ <code>make</code> æ—¶ç”Ÿæˆã€‚æ‚¨è¿˜å¯ä»¥é€šè¿‡ç”Ÿæˆ HTML æ¥æ„å»º aria2 æ‰‹å†Œé¡µçš„ HTML ç‰ˆæœ¬ã€‚HTML ç‰ˆæœ¬æ‰‹å†Œä¹Ÿå¯<a href="https://aria2.github.io/manual/en/html/">åœ¨çº¿è·å–</a>ï¼ˆ<a href="https://aria2.github.io/manual/ru/html/">ä¿„è¯­ç¿»è¯‘</a>ã€<a href="https://aria2.github.io/manual/pt/html/">è‘¡è„ç‰™è¯­ç¿»è¯‘</a>ï¼‰ã€‚</p>
<h3 id="bittorrent"><strong><strong>BitTorrent</strong></strong></h3>
<p><strong>å…³äºæ–‡ä»¶å</strong></p>
<p>ä¸‹è½½æ–‡ä»¶çš„æ–‡ä»¶åç¡®å®šå¦‚ä¸‹ï¼š</p>
<ul>
<li><strong>å•æ–‡ä»¶æ¨¡å¼</strong></li>
</ul>
<p>å¦‚æœ â€œnameâ€ é”®å­˜åœ¨äº .torrent æ–‡ä»¶ä¸­ï¼Œåˆ™æ–‡ä»¶åæ˜¯ â€œnameâ€ é”®çš„å€¼ã€‚</p>
<p>å¦åˆ™ï¼Œæ–‡ä»¶åå°±æ˜¯ BitTorrent çš„æ–‡ä»¶åç§°åŠ ä¸Š â€œ.fileâ€ ï¼Œä¾‹å¦‚ BitTorrent çš„æ–‡ä»¶åç§°æ˜¯ â€œtest.torrentâ€ï¼Œé‚£ä¹ˆä¸‹è½½çš„æ–‡ä»¶åå°±æ˜¯ â€œtest.torrent.fileâ€ï¼Œä¸‹è½½æ–‡ä»¶çš„ç›®å½•å¯ä»¥é€šè¿‡ -d é€‰é¡¹æŒ‡å®šã€‚</p>
<ul>
<li>å¤š<strong>æ–‡ä»¶æ¨¡å¼</strong></li>
</ul>
<p>.torrent æ–‡ä»¶å†…éƒ¨å·²å­˜åœ¨ç›®å½•ç»“æ„ï¼Œæ‰€ä»¥ aira2 ç›´æ¥æŒ‰ç…§å·²æœ‰çš„ç»“æ„åˆ›å»ºæ–‡ä»¶å’Œç›®å½•ï¼Œä¸‹è½½æ–‡ä»¶çš„æ ¹ç›®å½•å¯ä»¥é€šè¿‡ -d é€‰é¡¹æŒ‡å®šã€‚</p>
<p>åœ¨ä¸‹è½½å¼€å§‹ä¹‹å‰ï¼Œå¦‚æœéœ€è¦ï¼Œå°†åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„ç›®å½•ç»“æ„ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ aria2 æœ€å¤šä» .torrent ä¸­åŒæ—¶æ‰“å¼€ 100 ä¸ªæ–‡ä»¶ï¼Œå¹¶ç›´æ¥å†™å…¥å’Œè¯»å–è¿™äº›æ–‡ä»¶ã€‚</p>
<p>è¦ä¿®æ”¹ aria2 åŒæ—¶æ‰“å¼€æ–‡ä»¶çš„æ•°é‡ï¼Œè¯·æŒ‡å®š <code>--bt-max-open-files</code> é€‰é¡¹ã€‚</p>
<h3 id="dht"><strong><strong>DHT</strong></strong></h3>
<p>aria2 æ”¯æŒä¸ä¸»çº¿å…¼å®¹çš„DHTã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒIPv4 DHTçš„è·¯ç”±è¡¨ä¿å­˜åˆ° <code>$XDG_CACHE_HOME/aria2/dht.dat</code>ï¼Œdat å’Œ IPv6 DHT çš„è·¯ç”±è¡¨ä¿å­˜åˆ° <code>$XDG_CACHE_HOME/aria2/dht6.dat</code>ã€‚é™¤éæ–‡ä»¶å­˜åœ¨äº <code>$HOME/.aria2/dht.dat</code> or <code>$HOME/.aria2/dht6.dat</code> ã€‚</p>
<p>aria2 ä½¿ç”¨ç›¸åŒçš„ç«¯å£å·ä¾¦å¬ IPv4 å’Œ IPv6 DHTã€‚</p>
<h3 id="udp-tracker">UDP tracker</h3>
<p>å¯ç”¨ IPv4 DHT æ—¶ï¼Œå°†å¯ç”¨ UDP è·Ÿè¸ªå™¨æ”¯æŒã€‚UDP è·Ÿè¸ªå™¨çš„ç«¯å£å·ä¸ DHT å…±äº«ã€‚</p>
<p>ä½¿ç”¨ <code>--dht-listen-port</code> é€‰é¡¹æ›´æ”¹ç«¯å£å·ã€‚</p>
<h3 id="metalink">Metalink</h3>
<p>å½“å‰çš„å®ç°æ”¯æŒ HTTPï¼ˆSï¼‰/FTP/SFTP/BitTorrentï¼Œå…¶ä»– P2P åè®®è¢«å¿½ç•¥ï¼Œæ”¯æŒ Metalink4ï¼ˆRFC 5854ï¼‰å’Œ Metalink 3.0 ç‰ˆæ–‡æ¡£ã€‚</p>
<p>å¯¹äºæ ¡éªŒå’ŒéªŒè¯ï¼Œæ”¯æŒ md5ã€sha-1ã€sha-224ã€sha-256ã€sha-384 å’Œ sha-512ï¼Œå¦‚æœæä¾›äº†å¤šä¸ªå“ˆå¸Œç®—æ³•ï¼Œaria2 å°†ä½¿ç”¨æ›´å¼ºçš„å“ˆå¸Œç®—æ³•ï¼Œå¦‚æœæ•´ä¸ªæ–‡ä»¶æ ¡éªŒå’ŒéªŒè¯å¤±è´¥ï¼Œaria2 ä¸ä¼šé‡è¯•ä¸‹è½½ï¼Œåªä¼šä»¥éé›¶è¿”å›ä»£ç é€€å‡ºã€‚</p>
<p>æ”¯æŒç”¨æˆ·çš„é¦–é€‰é¡¹åŒ…æ‹¬ï¼šversion, language, location, protocol and osã€‚</p>
<p>å¦‚æœ Metalink æ–‡ä»¶ä¸­æä¾›äº†å—æ ¡éªŒå’Œï¼Œaria2 ä¼šåœ¨ä¸‹è½½è¿‡ç¨‹ä¸­è‡ªåŠ¨éªŒè¯æ•°æ®å—ï¼Œæ­¤è¡Œä¸ºå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œé€‰é¡¹å…³é—­ã€‚</p>
<p>å¦‚æœç­¾ååŒ…å«åœ¨ Metalink æ–‡ä»¶ä¸­ï¼Œaria2 ä¼šåœ¨ä¸‹è½½å®Œæˆåå°†å…¶ä¿å­˜ä¸ºæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºä¸‹è½½æ–‡ä»¶å+â€œ.sigâ€ã€‚å¦‚æœåŒä¸€æ–‡ä»¶å·²å­˜åœ¨ï¼Œåˆ™ä¸ä¼šä¿å­˜ç­¾åæ–‡ä»¶ã€‚</p>
<p>åœ¨ Metalink4 ä¸­ï¼Œå¤šæ–‡ä»¶ torrent å¯èƒ½å‡ºç°åœ¨ metalink:metaurl å…ƒç´ ä¸­ï¼Œç”±äº aria2 æ— æ³•åŒæ—¶ä¸‹è½½ä¸¤ä¸ªç›¸åŒçš„ Torrentï¼Œaria2 å°†æ–‡ä»¶åˆ†ç»„åœ¨ metalink ä¸­ï¼šæ–‡ä»¶å…ƒç´ å…·æœ‰ç›¸åŒçš„ BitTorrent metaurlï¼Œå¹¶ä»å•ä¸ª BitTorrent swarm ä¸‹è½½ã€‚</p>
<p>è¿™åŸºæœ¬ä¸Šæ˜¯å¸¦æœ‰æ–‡ä»¶é€‰æ‹©çš„å¤šæ–‡ä»¶ torrent ä¸‹è½½ï¼Œå› æ­¤ä¹Ÿä¼šåˆ›å»ºä¸åœ¨ Metalink æ–‡æ¡£ä¸­ä½†ä¸æ‰€é€‰æ–‡ä»¶å…±äº«åŒä¸€éƒ¨åˆ†çš„ç›¸é‚»æ–‡ä»¶ã€‚</p>
<p>å¦‚æœåœ¨ metalink:url æˆ– metalink:metaurl å…ƒç´ ä¸­æŒ‡å®šäº†ç›¸å¯¹ URIï¼Œåˆ™ aria2 ä½¿ç”¨ metalink æ–‡ä»¶çš„ URI ä½œä¸ºåŸºæœ¬ URI æ¥è§£æç›¸å¯¹ URIã€‚å¦‚æœåœ¨ä»æœ¬åœ°ç£ç›˜è¯»å–çš„ Metalink æ–‡ä»¶ä¸­æ‰¾åˆ°ç›¸å¯¹ URIï¼Œåˆ™ aria2 ä½¿ç”¨ <code>--metalink-base-uri</code> é€‰é¡¹çš„å€¼ä½œä¸ºåŸºæœ¬ URIã€‚å¦‚æœæœªæŒ‡å®šæ­¤é€‰é¡¹ï¼Œåˆ™å°†å¿½ç•¥ç›¸å¯¹ URIã€‚</p>
<h3 id="metalinkhttp">Metalink/HTTP</h3>
<p>Metalink/HTTP çš„å®ç°ä»…é™äº rel=duplicate çš„é“¾æ¥ã€‚</p>
<p>aria2 è§£æ Digest header å­—æ®µï¼Œå¹¶æ£€æŸ¥å®ƒæ˜¯å¦ä¸å…¶ä»–æ¥æºçš„ digest å€¼åŒ¹é…ã€‚å¦‚æœä¸åŒï¼Œå°±æ–­å¼€è¿æ¥ï¼Œaria2 è¿˜ä½¿ç”¨æ­¤ Digest å€¼åœ¨ä¸‹è½½å®Œæˆåæ‰§è¡Œæ ¡éªŒå’ŒéªŒè¯ã€‚</p>
<p>è®© aria2 çŸ¥é“ä¼˜å…ˆä½¿ç”¨çš„ <code>metalink</code> åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨ <code>--metalink-location</code> é€‰é¡¹ã€‚</p>
<h3 id="netrc">netrc</h3>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒHTTP/FTP/SFTP æ”¯æŒ netrcï¼Œè¦ç¦ç”¨ netrc æ”¯æŒï¼Œè¯·æŒ‡å®š -n å‘½ä»¤è¡Œé€‰é¡¹</p>
<p>ä½ çš„ netrc æ–‡ä»¶åº”å…·æœ‰ç›¸åº”çš„æƒé™ï¼šï¼ˆ600ï¼‰ã€‚</p>
<h3 id="websocket">WebSocket</h3>
<p>aria2 ä¸­åµŒå…¥çš„ WebSocket æœåŠ¡å™¨å®ç°äº† RFC 6455 ä¸­å®šä¹‰çš„è§„èŒƒã€‚æ”¯æŒçš„åè®®ç‰ˆæœ¬ä¸º 13ã€‚</p>
<h3 id="libaria2">libaria2</h3>
<p>libaria2 æ˜¯ä¸€ä¸ª C++ åº“ï¼Œå®ƒä¸ºå®¢æˆ·ç«¯çš„å¼€å‘æä¾› aria2 åŠŸèƒ½ã€‚</p>
<p>ç›®å‰ï¼Œlibaria2 ä¸æ˜¯é»˜è®¤æ„å»ºçš„ï¼Œè¦å¯ç”¨ libaria2ï¼Œè¯·ä½¿ç”¨ <code>--enable-libaria2</code> é…ç½®é€‰é¡¹ã€‚</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåªç”Ÿæˆå…±äº«åº“ï¼Œè¦æ„å»ºé™æ€åº“ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>--enable-static</code> é…ç½®é€‰é¡¹ã€‚</p>
<p>äº†è§£å¦‚ä½•ä½¿ç”¨APIï¼Œè¯·å‚é˜… libaria2 æ–‡æ¡£ã€‚</p>
<h3 id="aria2-å¼€å‘æ—¶çš„å‚è€ƒ">aria2 å¼€å‘æ—¶çš„å‚è€ƒ</h3>
<ul>
<li><a href="https://aria2.github.io/manual/en/html/">aria2 Online Manual</a></li>
<li><a href="https://aria2.github.io/">https://aria2.github.io/</a></li>
<li><a href="http://tools.ietf.org/html/rfc959">RFC 959 FILE TRANSFER PROTOCOL (FTP)</a></li>
<li><a href="http://tools.ietf.org/html/rfc1738">RFC 1738 Uniform Resource Locators (URL)</a></li>
<li><a href="http://tools.ietf.org/html/rfc2428">RFC 2428 FTP Extensions for IPv6 and NATs</a></li>
<li><a href="http://tools.ietf.org/html/rfc2616">RFC 2616 Hypertext Transfer Protocol &ndash; HTTP/1.1</a></li>
<li><a href="http://tools.ietf.org/html/rfc3659">RFC 3659 Extensions to FTP</a></li>
<li><a href="http://tools.ietf.org/html/rfc3986">RFC 3986 Uniform Resource Identifier (URI): Generic Syntax</a></li>
<li><a href="http://tools.ietf.org/html/rfc4038">RFC 4038 Application Aspects of IPv6 Transition</a></li>
<li><a href="http://tools.ietf.org/html/rfc5854">RFC 5854 The Metalink Download Description Format</a></li>
<li><a href="http://tools.ietf.org/html/rfc6249">RFC 6249 Metalink/HTTP: Mirrors and Hashes</a></li>
<li><a href="http://tools.ietf.org/html/rfc6265">RFC 6265 HTTP State Management Mechanism</a></li>
<li><a href="http://tools.ietf.org/html/rfc6266">RFC 6266 Use of the Content-Disposition Header Field in the Hypertext Transfer Protocol (HTTP)</a></li>
<li><a href="http://tools.ietf.org/html/rfc6455">RFC 6455 The WebSocket Protocol</a></li>
<li><a href="http://tools.ietf.org/html/rfc6555">RFC 6555 Happy Eyeballs: Success with Dual-Stack Hosts</a></li>
<li><a href="http://www.bittorrent.org/beps/bep_0003.html">The BitTorrent Protocol Specification</a></li>
<li><a href="http://www.bittorrent.org/beps/bep_0005.html">BitTorrent: DHT Protocol</a></li>
<li><a href="http://www.bittorrent.org/beps/bep_0006.html">BitTorrent: Fast Extension</a></li>
<li><a href="http://www.bittorrent.org/beps/bep_0007.html">BitTorrent: IPv6 Tracker Extension</a></li>
<li><a href="http://www.bittorrent.org/beps/bep_0009.html">BitTorrent: Extension for Peers to Send Metadata Files</a></li>
<li><a href="http://www.bittorrent.org/beps/bep_0010.html">BitTorrent: Extension Protocol</a></li>
<li><a href="http://www.bittorrent.org/beps/bep_0012.html">BitTorrent: Multitracker Metadata Extension</a></li>
<li><a href="http://www.bittorrent.org/beps/bep_0015.html">BitTorrent: UDP Tracker Protocol for BitTorrent</a>Â andÂ <a href="http://www.rasterbar.com/products/libtorrent/udp_tracker_protocol.html">BitTorrent udp-tracker protocol specification</a>.</li>
<li><a href="http://www.bittorrent.org/beps/bep_0019.html">BitTorrent: WebSeed - HTTP/FTP Seeding (GetRight style)</a></li>
<li><a href="http://www.bittorrent.org/beps/bep_0027.html">BitTorrent: Private Torrents</a></li>
<li><a href="http://www.bittorrent.org/beps/bep_0032.html">BitTorrent: BitTorrent DHT Extensions for IPv6</a></li>
<li><a href="http://wiki.vuze.com/w/Message_Stream_Encryption">BitTorrent: Message Stream Encryption</a></li>
<li><a href="https://pdos.csail.mit.edu/~petar/papers/maymounkov-kademlia-lncs.pdf">Kademlia: A Peer-to-peer Information System Based on the XOR Metric</a></li>
</ul>

    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
